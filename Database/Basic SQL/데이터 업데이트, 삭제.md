## 목표

- UPDATE, DELETE 문을 사용해 테이블 데이터를 조작 한다.

## 목차

1. [데이터 업데이트](#데이터 업데이트)
2. [데이터 삭제](#데이터 삭제)
3. [업데이트와 삭제 가이드](#업데이트와 삭제 가이드)


# 데이터 업데이트

테이블에 있는 데이터를 업데이트하기 위해 UPDATE 문을 사용한다.

- 테이블에 있는 특정 행 업데이트
- 테이블에 있는 모든 행 업데이트

UPDATE 문을 사용할 때 실수로 테이블에 있는 모든 행을 업데이트할 수 있으니 매우 주의해야 한다. UPDATE를 정확히 이해하고, UPDATE 문을 사용하는 것이 좋다.

UPDATE문의 기본 형태는 다음과 같이 세 가지 부분으로 이루어져 있다.

- 업데이트할 테이블
- 열 이름과 새로운 값
- 어떤 행이 업데이트되어야 하는지를 지정하는 필터 조건

```SQL
UPDATE Customers
SET cust_email = 'kim@thetoystore.com'
WHERE cust_id = 10000000005;
```

UPDATE 문은 항상 업데이트할 테이블 이름으로 시작하고, SET 명령은 열을 새로운 값으로 설정한다. UPDATE 문은 DBMS가 어떤 행을 업데이트해야 하는지 알려 주는 WHERE 절로 끝난다.
WHERE 절이 없다면 DBMS는 Customers 테이블에 있는 모든 행을 새로운 데이터로 업데이트할 것이다.

여러 열을 업데이트하는 문법은 다음과 같다.

```SQL
UPDATE Customers
SET cust_contact = 'Sam Roberts',
	cust_email = 'sam@toyland.com'
WHERE cust_id = 1000000006;
```

여러 열을 업데이트할 때도 SET 절은 한 번만 사용하지만 '열 = 값'의 쌍은 콤마로 구분해 나열한다.

> [!NOTE]
> UPDATE 문에서도 SELECT 문으로 가져온 데이터로 열을 업데이트하기 위해 서브쿼리를 사용할 수 있다.
> 
> 일부 SQL 실행 환경에서는 UPDATE 문에서 FROM 절을 사용하도록 지원하기도 한다.
> FROM 절을 사용하면 다른 테이블에 있는 데이터로 테이블의 열을 업데이트할 수 있다.

열 값을 삭제하려면 열에 NULL(테이블이 NULL 값을 허용하도록 정의된 경우)을 설정하면 된다.

```SQL
UPDATE Customers
SET cust_email = NULL
WHERE cust_id = 1000000005;
```

NULL 키워드는 열에 어떤 값도 저장하지 않기 위해 사용한다. 빈 문자열을 저장하는 것과는 다르게 NULL 은 아무런 값도 가지지 않는다는 것을 의미한다.


# 데이터 삭제

테이블에서 데이터를 삭제하기 위해 DELETE 문을 사용할 수 있다.

- 테이블에 있는 특정 행 삭제
- 테이블에 있는 모든 행 삭제

> [!NOTE]
> DELETE를 사용할 때 실수로 테이블에 있는 모든 행을 삭제할 수 있으니 주의해야 한다.
> DELETE의 특징을 잘 이해하고, DELETE 문을 사용하도록 하자.

```SQL
DELETE FROM Customers
WHERE cust_id = 1000000006;
```

> [!NOTE] DELETE 문과 외래 키
> 두 개의 테이블을 조인할 때 두 테이블 모두에 있는 공통된 필드가 필요하다고 배웠다